import{_ as b,g as s,r as t,o as d,c as v,d as _,t as u,a as e,w as o,F as f,e as l,b as P,f as F}from"./index.dd322045.js";const $={name:"App",data(){return{products:[],API_IMAGE:"http://195.15.226.172:7585"}},computed:{total(){return this.products.reduce((a,r)=>a+r.item.price,0).toFixed(2)}},async created(){await s().fetchCartProducts();const c=s().productsInCart;c&&(this.products=c.map(a=>a))},mounted(){s().$subscribe((c,a)=>{console.log("state",a.productsInCart);const r=a.productsInCart;this.products=r.map(m=>m)})},methods:{async removeFromCart(c){await s().removeFromCart(c)},checkout(){this.$router.push("/checkout")}}},E=_("h1",null,"Mon panier",-1),M={class:"d-flex justify-md-space-between align-center"};function B(c,a,r,m,p,i){const h=t("v-btn"),C=t("v-img"),I=t("v-card-title"),k=t("v-chip"),w=t("v-icon"),y=t("v-card-actions"),A=t("v-card"),g=t("v-col"),x=t("v-row");return d(),v(f,null,[E,_("h3",null,"Total: "+u(i.total)+"$",1),e(h,{color:"primary",class:"white--text",onClick:i.checkout},{default:o(()=>[l(" Payer ")]),_:1},8,["onClick"]),e(x,null,{default:o(()=>[(d(!0),v(f,null,P(p.products,n=>(d(),F(g,{key:n.item._id,cols:"12"},{default:o(()=>[e(A,null,{default:o(()=>[_("div",M,[_("div",null,[e(C,{src:`${p.API_IMAGE}/${n.item.imageUrl[0]}`,width:"100",class:"my-4 ml-4"},null,8,["src"])]),e(I,null,{default:o(()=>[l(u(n.item.title),1)]),_:2},1024),e(k,{class:"ma-2 font-weight-bold",color:"primary"},{default:o(()=>[l(u(n.item.price)+"$ ",1)]),_:2},1024),e(y,null,{default:o(()=>[e(h,{color:"primary",class:"ma-2",text:"",onClick:G=>i.removeFromCart(n)},{default:o(()=>[e(w,{class:"mr-2",color:"black"},{default:o(()=>[l(" mdi-trash-can ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})],64)}const N=b($,[["render",B]]);export{N as default};
