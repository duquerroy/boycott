import{_ as b,u,x as y,r as t,o as P,g as S,b as n,a as s,f as d,e as C}from"./index.c950a6e1.js";const q={name:"LoginView",data(){return{valid:!0,email:"",password:"",showPassword:!1,emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=6||"Password must be equal or greater than 8 characters"]}},mounted(){const e=u();e.token="",e.user={},localStorage.removeItem("token"),localStorage.removeItem("user")},methods:{login(){u().login(this.email,this.password).catch(l=>{y().error(l.message),console.log("err",l)})},register(){this.$router.push("/register")}}},L=C("h2",{class:"headline mb-0"},"Se connecter",-1);function R(e,l,c,B,o,i){const _=t("v-card-title"),a=t("v-text-field"),m=t("v-form"),p=t("v-card-text"),v=t("router-link"),f=t("v-spacer"),w=t("v-btn"),g=t("v-card-actions"),h=t("v-card"),V=t("v-col"),x=t("v-row"),k=t("v-container");return P(),S(k,null,{default:n(()=>[s(x,null,{default:n(()=>[s(V,{cols:"12",sm:"6",md:"4","offset-md":"4","offset-sm":"3"},{default:n(()=>[s(h,null,{default:n(()=>[s(_,null,{default:n(()=>[L]),_:1}),s(p,null,{default:n(()=>[s(m,{ref:"form",modelValue:o.valid,"onUpdate:modelValue":l[3]||(l[3]=r=>o.valid=r),"lazy-validation":""},{default:n(()=>[s(a,{modelValue:o.email,"onUpdate:modelValue":l[0]||(l[0]=r=>o.email=r),rules:o.emailRules,label:"Email",autocomplete:"email",required:""},null,8,["modelValue","rules"]),s(a,{modelValue:o.password,"onUpdate:modelValue":l[1]||(l[1]=r=>o.password=r),"append-icon":o.showPassword?"mdi-eye":"mdi-eye-off",rules:o.passwordRules,type:o.showPassword?"text":"password",label:"Password",required:"","onClick:append":l[2]||(l[2]=r=>o.showPassword=!o.showPassword)},null,8,["modelValue","append-icon","rules","type"])]),_:1},8,["modelValue"])]),_:1}),s(g,null,{default:n(()=>[s(v,{to:{name:"register"}},{default:n(()=>[d("Cr\xE9er un compte")]),_:1}),s(f),s(w,{color:"primary",text:"",onClick:i.login},{default:n(()=>[d(" Login ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const N=b(q,[["render",R]]);export{N as default};
